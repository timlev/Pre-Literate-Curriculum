<html>
<head>
  <link rel="stylesheet" type="text/css" href="./../drag_n_drop_theme.css" />
<link
href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/css/base/jquery.ui.all.css" rel="stylesheet">
<link
href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.2/css/lightness/jquery-ui-1.10.2.custom.min.css" rel="stylesheet">
<link href="../sliders.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-1.7.2.min.js"></script>
<script
src="https://code.jquery.com/ui/1.8.21/jquery-ui.min.js"></script>
<script src="../jquery.ui.touch-punch.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Didact+Gothic&display=swap" rel="stylesheet">
<style>
* {
    font-family: 'Didact Gothic', sans-serif;
    }
#pictures_and_destinations {
  border: 1px;
  }

#answers {
  width: 90vw;
}
#answers {
  text-align: center;
  border-style: dotted;
}

.image {
margin: auto;
}

.image > img {
 margin: auto;
 height:15vh;
 border-style: solid;
}
.destination {
  border-style: dashed;
  text-align: center;
  padding: 10px;
  }

</style>
<script>
function tapHandler(event){
    var audioId = event.target.id + "_audio";
    console.log(event.target.id);
    //alert(audioId);
    txtObj = document.getElementById(event.target.id);
    audioObj = document.getElementById(audioId);
    audioObj.addEventListener("ended", function(){
      txtObj.style.backgroundColor = "transparent";
    });
    txtObj.style.backgroundColor = "yellow";
    document.getElementById(audioId).play();
}
$(function() {
  var score = 0;
window.words_remaining = 0;
  $(".source").on("dragstart", tapHandler );
  $( ".source" ).draggable({ revert: "invalid", scroll: false});
  $( ".destination" ).droppable({
    drop: function( event, ui ) {
      var dragged_category = ui.draggable.attr("name").split(",")[0];
      var dropped_category = $(this).attr("name").split(",")[0];
      if (ui.draggable.attr("name") == $(this).attr("name")){
          ui.draggable.draggable("disable");
          $(this).css({"background-color":"#70db70"});
          $(this).html(ui.draggable.html());
          ui.draggable.hide();
  //$(this).toggleClass("source");
          score += 1;
  $(this).droppable({disabled: true});
  console.log(window.words_remaining);
          window.words_remaining -= 1;
          moves += 1;
          $("#status").text("Current score: " + score + " Words remaining: " + window.words_remaining);
          if (window.words_remaining == 0){
             document.getElementById("menu_link").innerHTML = "Finished!<br>Current score: " + score + " Words remaining: " + window.words_remaining + "<br>Moves: " + moves
          }
    }
    else{
        ui.draggable.css({"color":"red"});
        moves += 1;

    }

    }
  });
  var slidetoggleinteraction = document.getElementById("toggleinteraction");
  slidetoggleinteraction.addEventListener("click",function(){
    if (slidetoggleinteraction.checked == false){
      $( ".source" ).draggable("enable");
    }
    else {
      $(".source").on("click", tapHandler );
      $(".source").draggable("disable");
    }
  });
});

    var score = 0;
    var moves = 0;
</script>
<title>
Food
</title>
</head>

<body>
  <div id="header">
    <label class="switch">
     <input id="toggleinteraction" type="checkbox">
     <span class="slider round"></span>
   </label>
   <span id="toggleinteractiontext">Lock</span>
 </div>
<table id="pictures_and_destinations">
<tr id="1">
<td id="1a">
<div class="image"><img src="imgs/carrots.png"/></div>
<div class="destination" name="1,a" id="droppable"></div>
</td>
<td id="1b">
<div class="image"><img src="imgs/pork.png"/></div>
<div class="destination" name="1,b" id="droppable"></div>
</td>
<td id="1c">
<div class="image"><img src="imgs/fish.png"/></div>
<div class="destination" name="1,c" id="droppable"></div>
</td>
<td id="1d">
<div class="image"><img src="imgs/apple.png"/></div>
<div class="destination" name="1,d" id="droppable"></div>
</td>
</tr>

<tr id="2">
<td id="2a">
<div class="image"><img src="imgs/chicken.png"/></div>
<div class="destination" name="2,a" id="droppable"></div>
</td>
<td id="2b">
<div class="image"><img src="imgs/rice.png"/></div>
<div class="destination" name="2,b" id="droppable"></div>
</td>
<td id="2c">
<div class="image"><img src="imgs/grapes.png"/></div>
<div class="destination" name="2,c" id="droppable"></div>
</td>
<td id="2d">
<div class="image"><img src="imgs/potatoes.png"/></div>
<div class="destination" name="2,d" id="droppable"></div>
</td>
</tr>

<tr id="3">
<td id="3a">
<div class="image"><img src="imgs/pear.png"/></div>
<div class="destination" name="3,a" id="droppable"></div>
</td>
<td id="3b">
<div class="image"><img src="imgs/milk.png"/></div>
<div class="destination" name="3,b" id="droppable"></div>
</td>
<td id="3c">
</td>
<td id="3d">
</td>
</tr>
</table>
<table id="answers">
<tr>
<td id="1a">
<div name="1,a" id="carrots" class="source">carrots</div>
<audio name="1,a" id="carrots_audio" src="../units/sounds/carrots.mp3"></audio>
</td>

<td id="1b">
<div name="1,b" id="pork" class="source">pork</div>
<audio name="1,b" id="pork_audio" src="../units/sounds/pork.mp3"></audio>
</td>

<td id="1c">
<div name="1,c" id="fish" class="source">fish</div>
<audio name="1,c" id="fish_audio" src="../units/sounds/fish.mp3"></audio>
</td>

<td id="1d">
<div name="1,d" id="apple" class="source">apple</div>
<audio name="1,d" id="apple_audio" src="../units/sounds/apple.mp3"></audio>
</td>

<td id="2a">
<div name="2,a" id="chicken" class="source">chicken</div>
<audio name="2,a" id="chicken_audio" src="../units/sounds/chicken.mp3"></audio>
</td>

<td id="2b">
<div name="2,b" id="rice" class="source">rice</div>
<audio name="2,b" id="rice_audio" src="../units/sounds/rice.mp3"></audio>
</td>

<td id="2c">
<div name="2,c" id="grapes" class="source">grapes</div>
<audio name="2,c" id="grapes_audio" src="../units/sounds/grapes.mp3"></audio>
</td>

<td id="2d">
<div name="2,d" id="potato" class="source">potato</div>
<audio name="2,d" id="potato_audio" src="../units/sounds/potato.mp3"></audio>
</td>

<td id="3a">
<div name="3,a" id="pear" class="source">pear</div>
<audio name="3,a" id="pear_audio" src="../units/sounds/pear.mp3"></audio>
</td>

<td id="3b">
<div name="3,b" id="milk" class="source">milk</div>
<audio name="3,b" id="milk_audio" src="../units/sounds/milk.mp3"></audio>
</td>

</tr>
</table>



</body>
</html>
